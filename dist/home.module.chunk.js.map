{"version":3,"sources":["/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.component.css","/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.component.html","/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.component.ts","/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.module.ts"],"names":[],"mappings":"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","file":"home.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.component.css\n// module id = ../../../../../src/app/main/home/home.component.css\n// module chunks = home.module","module.exports = \"<div style=\\\"text-align: center\\\">\\n  <h2>{{title}}</h2>\\n</div>\\n<div style=\\\"width: 100%\\\">\\n  <div id=\\\"post-container-main\\\" class=\\\"grid\\\" [hidden]=\\\"!isDataLoaded\\\">\\n\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"isNotFound\\\" class=\\\"alert\\\" style=\\\"text-align: center\\\">\\n  <h2>Không có bài post nào cả</h2>\\n</div>\\n<div id=\\\"post-container-temp\\\" hidden>\\n\\n</div>\\n<div *ngIf=\\\"isLoading\\\" class=\\\"sk-folding-cube loading\\\">\\n  <div class=\\\"sk-cube1 sk-cube\\\"></div>\\n  <div class=\\\"sk-cube2 sk-cube\\\"></div>\\n  <div class=\\\"sk-cube4 sk-cube\\\"></div>\\n  <div class=\\\"sk-cube3 sk-cube\\\"></div>\\n</div>\\n<a href=\\\"javascript:\\\" id=\\\"return-to-top\\\" (click)=\\\"scrollToTop()\\\"><i class=\\\"fa fa-chevron-up\\\"></i></a>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.component.html\n// module id = ../../../../../src/app/main/home/home.component.html\n// module chunks = home.module","import {AfterContentInit, Component, NgZone, OnDestroy, OnInit} from '@angular/core';\nimport {PostService} from '../../core/services/post/post.service';\nimport {Category, Post} from '../../core/models/models.component';\nimport {NotificationService} from '../../core/services/notification/notification.service';\nimport {FbpostService} from '../../core/services/fbpost/fbpost.service';\nimport {Observable} from 'rxjs/Rx';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {SharedService} from '../../core/services/shared/shared.service';\nimport {CategoryService} from '../../core/services/category/category.service';\nimport {MessageConstants} from '../../core/common/message.constants';\n\ndeclare let $: any;\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css']\n})\nexport class HomeComponent implements OnInit, AfterContentInit, OnDestroy {\n\n  pageIndex = 1;\n  category = 'all';\n  title = '';\n  postList: Post[] = [];\n  isDataLoaded = false;\n  isLoading = true;\n  isEndPage = false;\n  isFirstTime = true;\n  isNotFound = false;\n  mySubscribe;\n  request: any;\n\n  constructor(public postService: PostService,\n              private notifyService: NotificationService,\n              private fbPostService: FbpostService,\n              private ngZone: NgZone,\n              private router: Router,\n              private route: ActivatedRoute,\n              private sharedService: SharedService, private categoryService: CategoryService) {\n    window.onscroll = () => {\n      if ($(window).scrollTop() >= 100) { // If page is scrolled more than 50px\n        $('#return-to-top').fadeIn(200); // Fade in the arrow\n      } else {\n        $('#return-to-top').fadeOut(200); // Else fade out the arrow\n      }\n      if ($(window).height() * 3 / 2 + $(window).scrollTop() > $(document).height() - 100) {\n        ngZone.run(() => {\n          if (!this.isEndPage && !this.isLoading) {\n            this.pageIndex++;\n            this.isLoading = true;\n            this.loadPost();\n          }\n        });\n      }\n    };\n  }\n\n  ngAfterContentInit(): void {\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      if (params['category']) {\n        this.category = params['category'];\n        this.getCategoryDetail();\n      }\n      if (this.request) {\n        this.request.unsubscribe();\n      }\n      this.init();\n    });\n  }\n\n  getCategoryDetail() {\n    this.categoryService.getCategoryDetailByName(this.category).subscribe((response: Category) => {\n      this.title = response.alias;\n    }, error => {\n      this.notifyService.printErrorMessage(MessageConstants.SYSTEM_ERROR_MSG);\n      this.notifyService.handleError(error);\n    });\n  }\n\n  init() {\n    this.fbPostService.initFacebook();\n    this.loadPost();\n    this.fbPostService.setRootContainer('#post-container-main', '#post-container-temp');\n    this.fbPostService.clearRootContainer();\n    this.isDataLoaded = false;\n    this.isLoading = true;\n    this.isEndPage = false;\n    this.isFirstTime = true;\n    this.isNotFound = false;\n    this.mySubscribe = Observable.interval(500).subscribe(x => {\n      this.fbPostService.layoutIfNeeded();\n    });\n  }\n\n\n  private loadPost() {\n    this.request = this.postService.getPostByCategory(this.category, this.pageIndex)\n      .subscribe((response: Post[]) => {\n        if (!response || response.length === 0) {\n          this.isEndPage = true;\n          if (this.isFirstTime) {\n            this.isNotFound = true;\n          }\n        }\n        this.isFirstTime = false;\n        this.postList.push(...response);\n        this.fbPostService.addPost(response, () => {\n          this.isDataLoaded = true;\n          this.isLoading = false;\n          this.fbPostService.relayout();\n          this.sharedService.changeEmitted$.subscribe(text => {\n            if (text === 'LoggedIn') {\n              this.fbPostService.updateFavoriteButton();\n            } else {\n              this.fbPostService.resetFavoriteButton();\n            }\n          });\n        });\n      }, error => this.notifyService.printErrorMessage(error));\n  }\n\n  scrollToTop() {\n    $('body,html').animate({\n      scrollTop: 0 // Scroll to top of body\n    }, 500);\n  }\n\n  ngOnDestroy(): void {\n    this.mySubscribe.unsubscribe();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.component.ts","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {HomeComponent} from './home.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {AuthenticationService} from '../../core/services/authentication/authentication.service';\nimport {PostService} from '../../core/services/post/post.service';\nimport {NotificationService} from '../../core/services/notification/notification.service';\nimport {CategoryService} from '../../core/services/category/category.service';\n\nconst routes: Routes = [\n  {path: '', redirectTo: 'all', pathMatch: 'full'},\n  {path: 'all', component: HomeComponent},\n  {path: ':category', component: HomeComponent}\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ],\n  providers: [AuthenticationService, PostService, NotificationService, CategoryService],\n  declarations: [HomeComponent]\n})\nexport class HomeModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/home/home.module.ts"],"sourceRoot":"webpack:///"}
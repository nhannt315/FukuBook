{"version":3,"sources":["/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.component.css","/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.component.html","/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.component.ts","/home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.module.ts"],"names":[],"mappings":"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","file":"favorite.module.chunk.js","sourcesContent":["exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.component.css\n// module id = ../../../../../src/app/main/favorite/favorite.component.css\n// module chunks = favorite.module","module.exports = \"<div style=\\\"text-align: center\\\">\\n  <h2>Bài viết yêu thích</h2>\\n</div>\\n<div style=\\\"width: 100%\\\">\\n  <div id=\\\"post-container-main\\\" class=\\\"grid\\\" [hidden]=\\\"!isDataLoaded\\\">\\n\\n  </div>\\n</div>\\n<div *ngIf=\\\"isNotFound && authService.isLoggedIn()\\\" class=\\\"alert\\\" style=\\\"text-align: center\\\">\\n  <h2>Không có bài post nào cả</h2>\\n</div>\\n<div *ngIf=\\\"!authService.isLoggedIn()\\\" class=\\\"alert\\\" style=\\\"text-align: center\\\">\\n  <h2>Bạn cần phải đăng nhập trước</h2>\\n</div>\\n<div id=\\\"post-container-temp\\\" hidden>\\n\\n</div>\\n<div *ngIf=\\\"isLoading && authService.isLoggedIn()\\\" class=\\\"sk-folding-cube loading\\\">\\n  <div class=\\\"sk-cube1 sk-cube\\\"></div>\\n  <div class=\\\"sk-cube2 sk-cube\\\"></div>\\n  <div class=\\\"sk-cube4 sk-cube\\\"></div>\\n  <div class=\\\"sk-cube3 sk-cube\\\"></div>\\n</div>\\n<a href=\\\"javascript:\\\" id=\\\"return-to-top\\\" (click)=\\\"scrollToTop()\\\"><i class=\\\"fa fa-chevron-up\\\"></i></a>\\n\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.component.html\n// module id = ../../../../../src/app/main/favorite/favorite.component.html\n// module chunks = favorite.module","import {AfterContentInit, Component, NgZone, OnDestroy, OnInit} from '@angular/core';\nimport {PostService} from '../../core/services/post/post.service';\nimport {Post} from '../../core/models/models.component';\nimport {NotificationService} from '../../core/services/notification/notification.service';\nimport {FbpostService} from '../../core/services/fbpost/fbpost.service';\nimport {Observable} from 'rxjs/Rx';\nimport {ActivatedRoute} from '@angular/router';\nimport {SharedService} from '../../core/services/shared/shared.service';\nimport {MessageConstants} from '../../core/common/message.constants';\nimport {AuthenticationService} from '../../core/services/authentication/authentication.service';\n\ndeclare let $: any;\n\n@Component({\n  selector: 'app-favorite',\n  templateUrl: './favorite.component.html',\n  styleUrls: ['./favorite.component.css']\n})\nexport class FavoriteComponent implements OnInit, AfterContentInit, OnDestroy {\n\n  pageIndex = 1;\n  category = 'all';\n  postList: Post[] = [];\n  isDataLoaded = false;\n  isLoading = true;\n  isEndPage = false;\n  isFirstTime = true;\n  isNotFound = false;\n  mySubscribe;\n\n  constructor(public postService: PostService,\n              private notifyService: NotificationService,\n              private fbPostService: FbpostService,\n              private ngZone: NgZone,\n              private route: ActivatedRoute,\n              private sharedService: SharedService,\n              private authService: AuthenticationService) {\n    window.onscroll = () => {\n      if ($(window).scrollTop() >= 100) { // If page is scrolled more than 50px\n        $('#return-to-top').fadeIn(200); // Fade in the arrow\n      } else {\n        $('#return-to-top').fadeOut(200); // Else fade out the arrow\n      }\n      if ($(window).height() * 33 / 2 + $(window).scrollTop() > $(document).height() - 100) {\n        ngZone.run(() => {\n          if (!this.isEndPage && !this.isLoading) {\n            this.pageIndex++;\n            this.isLoading = true;\n            this.loadPost();\n          }\n        });\n      }\n    };\n  }\n\n  ngAfterContentInit(): void {\n  }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      if (params['category']) {\n        this.category = params['category'];\n      }\n      this.init();\n    });\n\n\n  }\n\n  init() {\n    this.fbPostService.initFacebook();\n    this.loadPost();\n    this.fbPostService.setRootContainer('#post-container-main', '#post-container-temp');\n    this.fbPostService.clearRootContainer();\n    this.isDataLoaded = false;\n    this.isLoading = true;\n    this.isEndPage = false;\n    this.isFirstTime = true;\n    this.isNotFound = false;\n    this.mySubscribe = Observable.interval(500).subscribe(x => {\n      this.fbPostService.layoutIfNeeded();\n    });\n    this.sharedService.changeEmitted$.subscribe(text => {\n      this.pageIndex = 1;\n      this.postList = [];\n      if (text === 'LoggedIn') {\n        this.fbPostService.clearRootContainer();\n        this.isLoading = true;\n        this.loadPost();\n      } else {\n        this.fbPostService.resetFavoriteButton();\n        this.fbPostService.clearRootContainer();\n      }\n    });\n  }\n\n\n  private loadPost() {\n    if (!this.authService.isLoggedIn()) {\n      this.isLoading = false;\n      return;\n    }\n    this.postService.getUserFavoritePosts(this.pageIndex).subscribe((response: Post[]) => {\n      if (!response || response.length === 0) {\n        this.isEndPage = true;\n        if (this.isFirstTime) {\n          this.isNotFound = true;\n        }\n        this.isLoading = false;\n      }\n      this.isFirstTime = false;\n      this.postList.push(...response);\n      this.fbPostService.addPost(response, () => {\n        this.isDataLoaded = true;\n        this.isLoading = false;\n      });\n    }, error => {\n      this.notifyService.printErrorMessage(MessageConstants.SYSTEM_ERROR_MSG);\n      this.isLoading = false;\n      this.notifyService.handleError(error);\n    });\n  }\n\n  scrollToTop() {\n    $('body,html').animate({\n      scrollTop: 0 // Scroll to top of body\n    }, 500);\n  }\n\n  ngOnDestroy(): void {\n    // this.mySubscribe.unsubscribe();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.component.ts","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FavoriteComponent} from './favorite.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {NotificationService} from '../../core/services/notification/notification.service';\nimport {PostService} from '../../core/services/post/post.service';\nimport {AuthenticationService} from '../../core/services/authentication/authentication.service';\n\nconst routes: Routes = [\n  {path: '', component: FavoriteComponent}\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(routes)\n  ],\n  providers: [AuthenticationService, PostService, NotificationService],\n  declarations: [FavoriteComponent]\n})\nexport class FavoriteModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/nhannt/Projects/Nodejs/WebProject/WebProject/src/app/main/favorite/favorite.module.ts"],"sourceRoot":"webpack:///"}